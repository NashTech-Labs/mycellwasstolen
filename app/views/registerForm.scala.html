@(status: String, mobileRegistrationForm: Form[model.domains.Domain.MobileRegisterForm], mobilesName:List[model.domains.Domain.MobilesName]) 

@import helper._ 

@helper.form(action =routes.MobileController.mobileRegistration, 'id ->"mobileRegistrationForm",'enctype -> "multipart/form-data") {

	<fieldset>
		
		<input type="hidden" name="status" id="status" value="@status">
		
		@inputText(mobileRegistrationForm("userName"), '_label -> "Name")
		
		@select(field=mobileRegistrationForm("mobileName"),options=mobilesName.map(x=> (x.id.get.toString -> (x.mobileName))).toSeq, '_label ->
		"Mobile Name", '_default -> "-- Choose Mobile Name --",	'_showConstraints -> false,'_error ->
		mobileRegistrationForm("mobileName").error.map(_.withMessage(Messages("recruiter.exam.type.remind"))))
		
		@inputText(mobileRegistrationForm("mobileModel"), '_label ->
		"Mobile Model") @inputText(mobileRegistrationForm("email"),
		'_label -> "email") @inputText(mobileRegistrationForm("imeiMeid"),
		'_label -> "Mobile IMEI/MEID")
		
		@inputText(mobileRegistrationForm("purchaseDate"), '_label->
		"Purchase Date", '_id-> "purchaseDate", 'class -> "datepicker",
		'style -> "datepicker")
		
		@inputText(mobileRegistrationForm("contactNo"), '_label ->
		"Contact No.") @inputText(mobileRegistrationForm("description"),
		'_label ->"Description")
		
		@inputFile(mobileRegistrationForm("fileUpload"),'_label->"Document",'_name->"fileUpload",'_type->"File")
	</fieldset>
	<div class="form-action">
		<input type="submit" value="Register">
	</div>

}
	<script src="@routes.Assets.at("javascripts/jquery.validate.min.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/bootstrap-datepicker.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/jquery-1.9.0.min.js")" type="text/javascript"></script>
	
	<script type="text/javascript">

		$(document).ready(function(){
		  $("#mobileName").change(function(){
			  var mobileNameId=$(this).val();
		      mobileModels(mobileNameId);
		  });
		  
		  var mobileAjaxSuccess = function(data) {
			   alert("Data" + data)
				console.debug("Success of Ajax Call");
				console.debug(data);
			};
			
			var mobileAjaxError = function(err) {
				console.debug("Error of ajax Call");
				console.debug(err);
			};
		  
		  var mobileModels = function(mobileNameId) {
		  	
		  	var mobileAjaxCallBack = {
					success: mobileAjaxSuccess,
					error: mobileAjaxError
				};
		  	
			jsRoutes.controllers.MobileController.getMobileModels(mobileNameId).ajax(mobileAjaxCallBack);
		  }; 
		 
		});
			            	
   </script>
